# React

> 是由 Facebook 研发到的，严格来说不是框架，而是用于解决 UI 复杂的开源的 js 库，目前由 React 社区联合维护。

## 站点

1. 无论是 Vue，还是 React，开发的单页应用程序，可能只是该站点的一部分（某一个功能块）

2. 一个单页应用程序，可能会划分为多个页面（几乎完全不同的页面效果）（组件）

3. 如果要在单页应用中完成组件的切换，需要实现下面两个功能：

1）根据不同的页面地址，展示不同的组件（核心）

2）完成无刷新的地址切换

> 把实现上述两个功能的插件，叫做 “路由”

## Router

1. react-router：路由核心库，包含诸多和路由功能相关的代码

2. react-router-dom：利用路由核心库，结合实际页面，实现跟页面路由密切相关的功能

> 如果要在页面中使用，需要安装 react-router-dom，依赖于 react-router（会自动安装）

### Router 组件

> 它本身不做任何展示，仅提供路由模式配置，另外，该组件会产生一个上下文，上下文中会提供一些实用方法，供其它相关组件使用

1. HashRouter：该组件，使用 hash 模式匹配

2. BrowserRouter：该组件，使用 BrowserHistory 模式匹配

> 通常情况下，Router 组件有且仅有一个，该组件将整个页面包裹其中

### Route 组件

> 根据不同的地址，展示不同的组件

> 重要属性：

1. path：匹配的路径

   1. 默认情况下，不区分大小写，可以设置 sensitive 属性为 true，用于区分大小写
   2. 默认情况下，只匹配初始目录，如果要精确匹配，加上 exact
   3. 如果不写 path，则会匹配任意的路径

2. component：匹配成功后，要显示的组件

3. children：传递 React 元素，无论是否匹配，一定会渲染 children，并且忽略 component 属性；传递一个函数，该函数有多个参数，这些参数来自于上下文，该函数返回 React 元素，则一定会渲染返回的元素，并且忽略 component 属性

> Route 组件可以写到任意地方，只要保证它是 Router 组件的后代元素

### Switch

1. 写到 Switch 中的 Route 组件，当匹配到第一个满足条件的 Route 后，将停止匹配

2. 由于 Switch 组件会循环所有子元素，然后让所有子元素去完成匹配，若匹配到对应的组件，然后停止循环。因此，不能在 Switch 的子元素中使用除了 Route 以外的组件
