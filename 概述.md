# React

> 是由 Facebook 研发到的，严格来说不是框架，而是用于解决 UI 复杂的开源的 js 库，目前由 React 社区联合维护。

## 站点

1. 无论是 Vue，还是 React，开发的单页应用程序，可能只是该站点的一部分（某一个功能块）

2. 一个单页应用程序，可能会划分为多个页面（几乎完全不同的页面效果）（组件）

3. 如果要在单页应用中完成组件的切换，需要实现下面两个功能：

1）根据不同的页面地址，展示不同的组件（核心）

2）完成无刷新的地址切换

> 把实现上述两个功能的插件，叫做 “路由”

## Redux

1. Flux：FaceBook 提出的数据解决方案，引入了 action 概念

> action：一个普通的对象，用于描述要干什么。action 是触发数据变化的唯一原因

> store：数据仓库，用于存储共享的数据。还可以根据不同的 action 更改仓库中的数据

```js
const loginAction = {
  type: "login",
  payload: {
    loginId: "admin",
    loginPwd: "123",
  },
};

const deleteAction = {
  type: "delete",
  payload: 1, // 用户id为1
};
```

2. Redux：在 Flux 的基础上，引入了 reducer 的概念

> reducer：处理器（类似于 controller），用于根据 action 来处理数据，处理后的数据会被仓库重新保存

### Action

1. 是一个通过 {} 或 new Object() 创建的 plain-object（纯粹）对象

> 隐式 \_\_proto\_\_ 指向 Object.prototype

2. 必须有 type 属性，指明类型

> type 可以是任意类型，对象字面量或变量，也可以是一个函数，返回的返回值就是 type 的值

3. 一般使用 payload 属性，表示附带数据

4. 在大型项目中，为了便于后续的维护，避免硬编码（hard code），通常会将 action 的类型存放到一个或单独的一些文件中（样板代码）

> 使用 const 申明常量，一般全是大写，为了更好的可观性，使用 Symbol 创建

5. 在使用 createStore 的时候，可以只传递 reducer，不传递第二个参数（默认值），此时值为 undefined，可以在自定义的 action 函数中（action creator），给第一个参数（state）一个默认值（es6 的参数默认值）

> action 创建的函数应该为无副作用的纯函数

1）不能以任何形式改动参数

2）不可以有异步

3）不可以对外部环境中的数据造成影响

6. bindActionCreators，redux 自带的一个函数，便于更改数据

> 第一个参数：action 创建函数的合并对象；第二个参数：仓库中的 dispatch 函数

> 返回一个变量，后续使用的时候，直接通过：变量.action 对象中对应的方法
