# redux-actions

> 该库用于简化 actio-types、action-creator 以及 reducer

> 官网文档：https://redux-actions.js.org/

## createAction(s)

### createAction

> 该函数用于创建一个 action 创建函数（action creator）

### createActions

> 该函数用于创建多个 action 创建函数（action creators）

## handleAction(s)

### handleAction

> 简化针对单个 action 类型的 reducer 处理，当它匹配到对应的 action 类型后，会执行对应的函数

### handleActions

> 简化针对多个 action 类型的 reducer 处理

## combineActions

> 配合 createActions 和 handleActions 两个函数，用于处理多个 action-type 对应同一个 reducer 处理函数

```js
// createAction源码分析
function createAction(type, payloadCreator) {
  return function actionCreator(...args) {
    if (typeof payloadCreator === "function") {
      const payload = payloadCreator(...args);
      return {
        type,
        payload,
      };
    } else {
      return {
        type,
      };
    }
  };
}
```

```js
// createActions源码分析
function createActions(mapToActionCreators) {
  const result = {};
  for (const prop in mapToActionCreators) {
    const payloadCreator = mapToActionCreators[prop]; //取出属性值
    const newPropName = toSmallCamel(prop); //得到一个小驼峰命名的属性名
    const actionCreator = (...args) => {
      if (typeof payloadCreator === "function") {
        return {
          type: prop,
          payload: payloadCreator(...args),
        };
      } else {
        return {
          type: prop,
        };
      }
    };
    actionCreator.toString = function () {
      return prop;
    };
    result[newPropName] = actionCreator;
  }
  return result;
}
//得到小驼峰命名法
function toSmallCamel(str) {
  // ASYNC_INCREASE ->  ["ASYNC", "INCREASE"] -> ["async", "Increase"] -> "asyncIncrease"
  return str
    .split("_")
    .map((s, i) => {
      s = s.toLowerCase();
      if (i !== 0 && s.length >= 1) {
        s = s[0].toUpperCase() + s.substr(1);
      }
      return s;
    })
    .join("");
}
```
